/* Styles communs aux pages de package + carrousel */
@layer base, components, carousel;

@layer base {
  .package-page .pkg-main { padding: 1.5rem clamp(1rem,2.5vw,3rem) 3rem; display:flex; flex-direction:column; gap:2.25rem; }
  .pkg-hero { background: var(--bg-alt); border:1px solid var(--border); padding:1.5rem 1.4rem 1.8rem; border-radius: var(--radius-m); box-shadow: var(--shadow-sm); display:flex; flex-direction:column; gap:1rem; }
  .pkg-hero h2 { margin:0; font-size:1.4rem; }
  .pkg-hero .lead { margin:0; font-size:.9rem; line-height:1.45; color: var(--text-soft); }
  .quick-meta { display:flex; gap:.5rem; flex-wrap:wrap; }
  .hero-actions { display:flex; gap:.6rem; flex-wrap:wrap; }
  .pkg-section { background: var(--bg-alt); border:1px solid var(--border); padding:1.25rem 1.2rem 1.4rem; border-radius: var(--radius-m); box-shadow: var(--shadow-sm); }
  .pkg-section h3 { margin:0 0 .85rem; font-size:1rem; }
  .concepts { margin:0; padding-left:1.2rem; display:grid; gap:.4rem; font-size:.78rem; }
  .code { background: var(--bg); border:1px solid var(--border); padding:.9rem 1rem; border-radius: var(--radius-s); overflow:auto; font-size:.75rem; line-height:1.35; }
  .api-table { width:100%; border-collapse: collapse; font-size:.72rem; }
  .api-table th, .api-table td { border:1px solid var(--border); padding:.55rem .6rem; text-align:left; }
  .api-table th { background: var(--bg); font-weight:600; }
  @media (max-width:720px){ .pkg-hero{padding:1.1rem 1rem 1.3rem;} }
}

@layer carousel {
  .carousel { position:relative; border:1px solid var(--border); background: var(--bg-alt); border-radius: var(--radius-m); overflow:hidden; box-shadow: var(--shadow-sm); }
  .carousel-track { display:flex; transition: transform .55s cubic-bezier(.6,.05,.2,.95); will-change: transform; }
  .carousel .slide { min-width:100%; position:relative; display:grid; place-items:center; background: var(--bg); }
  .carousel figure { margin:0; width:100%; height:100%; display:grid; place-items:center; }
  .carousel img { width:100%; height:420px; object-fit:cover; display:block; background: #222; }
  .carousel figcaption { position:absolute; left:.75rem; bottom:.65rem; background: rgba(0,0,0,.55); color:#fff; font-size:.65rem; padding:.35rem .55rem; border-radius: var(--radius-round); letter-spacing:.5px; }
  .carousel-btn { position:absolute; top:50%; transform:translateY(-50%); background:rgba(0,0,0,.45); color:#fff; border:none; width:2.4rem; height:2.4rem; display:grid; place-items:center; border-radius: var(--radius-round); cursor:pointer; backdrop-filter: blur(4px); font-size:1.3rem; font-weight:600; }
  .carousel-btn:hover { background:rgba(0,0,0,.65); }
  .carousel-btn:focus-visible { outline:none; box-shadow: var(--focus-ring); }
  .carousel-btn.prev { left:.6rem; }
  .carousel-btn.next { right:.6rem; }
  .carousel-dots { position:absolute; bottom:.55rem; left:50%; transform:translateX(-50%); display:flex; gap:.4rem; }
  .carousel-dots button { width:.75rem; height:.75rem; background:rgba(255,255,255,.55); border:1px solid rgba(0,0,0,.25); border-radius:50%; padding:0; cursor:pointer; transition:.25s; }
  .carousel-dots button[aria-current="true"] { background: var(--primary); border-color: var(--primary); transform:scale(1.2); }
  .carousel-dots button:focus-visible { outline:none; box-shadow: var(--focus-ring); }
  @media (max-width: 720px){ .carousel img { height:300px; } }
}

@layer demoOptional {
  /* Styles pour mini d√©mos optionnelles (inventaire etc.) */
  .demo { display:flex; flex-direction:column; gap:.9rem; }
  #demoForm { display:flex; gap:.5rem; flex-wrap:wrap; }
  #demoForm input { padding:.5rem .65rem; border:1px solid var(--border); background: var(--bg); border-radius: var(--radius-s); font: 500 .75rem var(--font-sans); }
  #demoForm input:focus { outline:none; box-shadow: var(--focus-ring); }
  .demo-list { list-style:none; margin:0; padding:0; display:grid; gap:.35rem; font-size:.7rem; }
  .demo-list li { background: var(--bg); border:1px solid var(--border); border-radius: var(--radius-s); padding:.45rem .6rem; display:flex; justify-content:space-between; align-items:center; }
  .demo-list button { background:none; border:none; color: var(--danger); font-weight:600; cursor:pointer; }
  .demo-list button:hover { text-decoration:underline; }
}

/* Sources viewer */
.sources { display:flex; flex-direction:column; gap:.8rem; }
.source-block { border:1px dashed var(--border); background: linear-gradient(180deg,var(--bg),var(--bg-accent)); padding:.6rem; border-radius:6px; }
.source-header { display:flex; justify-content:space-between; align-items:center; gap:.6rem; }
.source-toggle { background:none; border:1px solid var(--border); color:var(--text); padding:.45rem .65rem; border-radius:6px; cursor:pointer; font-weight:600; }
.source-toggle[aria-expanded="true"] { background:var(--bg-accent); border-color:var(--primary); color: var(--text); box-shadow: var(--focus-ring); }
.source-actions { display:flex; gap:.5rem; align-items:center; }
.source-download { text-decoration:none; font-size:.82rem; padding:.35rem .55rem; border-radius:6px; border:1px solid var(--border); background:var(--bg); color:var(--text); }
.source-download:hover { background:var(--bg-accent); }
.source-content { margin-top:.6rem; display:none; }
.source-content pre { margin:0; padding:.9rem; background:var(--bg); border:1px solid var(--border); border-radius:6px; overflow:auto; font-size:.78rem; line-height:1.35; }
.source-empty { font-size:.85rem; color:var(--text-soft); padding:.6rem; }
